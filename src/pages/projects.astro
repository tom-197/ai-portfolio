---
import Layout from '../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const projects = await getCollection('projects');
const sortedProjects = projects.sort((a, b) => a.data.order - b.data.order);
---

<Layout title="Projects | Tom Hayes">
	<h1>Projects</h1>
	<p>A collection of my work in physical computing and AI.</p>

	<div class="card-grid">
		{sortedProjects.map((project) => (
			<article class="card">
				<h3>{project.data.title}</h3>
				<p>{project.data.description}</p>
				{project.data.status && <span class="tag">{project.data.status}</span>}
				{project.data.link && (
					<a href={project.data.link} target="_blank">
						View Project &rarr;
					</a>
				)}
			</article>
		))}
	</div>
</Layout>

<style>
	.tag {
		display: inline-block;
		background: rgba(255, 255, 255, 0.1);
		padding: 0.2rem 0.5rem;
		border-radius: 4px;
		font-size: 0.8rem;
		margin-top: 1rem;
	}
</style>
